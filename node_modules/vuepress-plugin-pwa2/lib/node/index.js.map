{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/logger.ts","../../src/node/genServiceWorker.ts","../../src/node/helper.ts","../../src/node/plugin.ts","../../src/node/genManifest.ts","../../src/node/injectHead.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["pwaLocales","install","iOSInstall","cancel","close","prevImage","nextImage","desc","feature","explain","hint","update","logger","Logger","imageFilter","outDir","maxsize","manifestEntries","warnings","manifest","imageExtensions","entry","some","ext","url","endsWith","stats","fs","statSync","path","resolve","size","push","Math","ceil","appendBaseHelper","base","link","startsWith","replace","appendBase","options","favicon","apple","icon","maskIcon","msTile","image","icons","map","src","shortcuts","shortcut","_a","screenshots","screenshot","appendBasetoManifest","pwaPlugin","app","async","dir","siteData","userManifestPath","source","userManifestJSONPath","optionManifest","userManifest","JSON","parse","existsSync","readFile","name","title","locales","short_name","_b","description","_c","lang","getRootLang","start_url","scope","display","theme_color","themeColor","background_color","orientation","prefer_related_applications","getManifest","head","metaKeys","linkKeys","forEach","item","rel","fallBackIcon","setLink","href","more","includes","setMeta","content","length","type","sizes","crossorigin","statusBarColor","color","injectLinkstoHead","useSassPalettePlugin","id","define","PWA_LOCALES","getLocales","SW_FORCE_UPDATE","SW_PATH","swPath","onInitialized","addViteOptimizeDepsInclude","addViteSsrNoExternal","addViteOptimizeDepsExclude","useCustomDevServer","stringify","onGenerated","load","manifestPath","dest","writeJSON","flag","succeed","chalk","cyan","relative","process","cwd","genManifest","swDest","destDir","globPatterns","cacheHTML","cachePic","generateSW","globDirectory","cacheId","cleanupOutdatedCaches","clientsClaim","maximumFileSizeToCacheInBytes","maxSize","manifestTransforms","maxPicSize","generateSWConfig","then","count","info","toFixed","warn","warning","join","error","blue","genServiceWorker","clientAppRootComponentFiles","hintComponent","__dirname","updateComponent","showInstall","clientAppSetupFiles"],"mappings":"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"}