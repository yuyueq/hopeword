"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@vuepress/utils"),a=require("@mr-hope/vuepress-shared"),t=require("vuepress-plugin-sass-palette"),n=require("workbox-build");const i={"/en/":{install:"Install",iOSInstall:"Tap the share button and then 'Add to Homescreen'",cancel:"Cancel",close:"Close",prevImage:"Previous Image",nextImage:"Next Image",desc:"Description",feature:"Key Features",explain:"This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. ",hint:"New content found.",update:"New content is available."},"/zh/":{install:"安装",iOSInstall:"点击分享按钮然后点击“添加到主屏幕”",cancel:"取消",close:"关闭",prevImage:"上一张图片",nextImage:"下一张图片",desc:"详情",feature:"主要特色",explain:"该应用可以安装在您的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和您的操作系统安全地进行交互。",hint:"发现新内容可用",update:"新内容已就绪"},"/tw/":{install:"安裝",iOSInstall:"點擊分享按鈕然後點擊“添加到主畫面”",cancel:"取消",close:"關閉",prevImage:"上一張圖片",nextImage:"下一張圖片",desc:"詳情",feature:"主要特色",explain:"該應用可以安裝在您的 PC 或行動裝置上。這將使該 Web 應用程式外觀和行為與其他應用程式相同。它將在出現在應用程式列表中，並可以固定到主畫面，開始菜單或任務欄。此 Web 應用程式還將能夠與其他應用程式和您的操作系統安全地進行交互。",hint:"發現新内容可用",update:"新内容已就绪"},"/de/":{install:"Installieren",iOSInstall:"Drucke den Share-Button und dan 'zu Homescreen hinzufügen'",cancel:"Abbrechen",close:"Schließen",prevImage:"Vorheriges Bild",nextImage:"Nächstes Bild",desc:"Berschreibung",feature:"Features",explain:"Diese App kann auf Ihrem PC oder Mobilgerät installiert werden.  Dadurch sieht diese Web-App aus und verhält sich wie jede andere installierte App.  Sie finden sie in Ihren App-Listen und können sie an den Startbildschirm, die Startmenüs oder die Taskleisten anheften.  Diese installierte Web-App kann auch sicher mit anderen Apps und Ihrem Betriebssystem interagieren.",hint:"Neue Inhalte sind verfügbar.",update:"Neue Inhalte sind verfügbar."},"/vi/":{install:"Tải về",iOSInstall:"Nhấn vào nút chia sẻ và sau đó 'Thêm vào Màn hình chính'",cancel:"Huỷ bỏ",close:"Đóng",prevImage:"Hình ảnh trước đó",nextImage:"Hình ảnh tiếp theo",desc:"Sự miêu tả",feature:"Các tính năng chính",explain:"Ứng dụng này có thể được cài đặt trên PC hoặc thiết bị di động của bạn. Điều này sẽ cho phép ứng dụng web này trông và hoạt động giống như bất kỳ ứng dụng đã cài đặt nào khác. Bạn sẽ tìm thấy nó trong danh sách ứng dụng của mình và có thể ghim nó vào màn hình chính, menu bắt đầu hoặc thanh tác vụ. Ứng dụng web đã cài đặt này cũng sẽ có thể tương tác an toàn với các ứng dụng khác và hệ điều hành của bạn.",hint:"Nội dung mới được tìm thấy",update:"Đã có nội dung mới"},"/uk/":{install:"Встановити",iOSInstall:"Торкніться кнопки «Поділитися», а потім «Додати на головний екран»",cancel:"Скасувати",close:"Закрити",prevImage:"Попереднє зображення",nextImage:"Наступне зображення",desc:"Опис",feature:"Основні характеристики",explain:"Цю програму можна встановити на ПК або мобільний пристрій. Це дозволить цій веб-програмі виглядати та вести себе як будь-яка інша встановлена програма. Ви знайдете її у списках додатків і зможете закріпити на головному екрані, в меню «Пуск» або на панелі завдань. Ця встановлена веб-програма також зможе безпечно взаємодіяти з іншими програмами та вашою операційною системою. ",hint:"Знайдено новий вміст",update:"Доступний новий контент."},"/ru/":{install:"Установить",iOSInstall:"Нажмите кнопку «Поделиться», а затем «Добавить на главный экран».",cancel:"Отменить",close:"Закрыть",prevImage:"Предыдущее изображение",nextImage:"Следующее изображение",desc:"Описание",feature:"Ключевые характеристики",explain:"Это приложение может быть установлено на вашем компьютере или мобильном устройстве.  Это позволит веб-приложению выглядеть и вести себя как любое другое установленное приложение.  Вы найдете его в списках приложений и сможете закрепить его на домашнем экране, в меню Пуск или на панели задач.  Установленное веб-приложение также сможет безопасно взаимодействовать с другими приложениями и операционной системой. ",hint:"Найден новый контент",update:"Доступен новый контент."},"/br/":{install:"Instalar",iOSInstall:"Toque no botão de compartilhar e depois 'Adicionar à Home'",cancel:"Cancelar",close:"Fechar",prevImage:"Imagem anterior",nextImage:"Próxima imagem",desc:"Descrição",feature:"Características Chave",explain:"Esta aplicação web pode ser instalada no seu PC ou dispositivo móvel. Isso fará com que ela se pareça e se comporte como qualquer outra aplicação.  Você a encontrará na lista de apps e poderá adicionar seu ícone à tela de entrada, menus ou barras de tarefa.  Uma vez instalada, esta aplicação web também poderá interagir com outras aplicações ou com o próprio sistema operacional. ",hint:"Novo conteúdo encontrado",update:"Novo conteúdo está disponível."}},s=new a.Logger("vuepress-plugin-pwa2"),o=(a,t=1024)=>n=>{const i=[],s=[],o=[".png",".jpg",".jpeg","webp","bmp","gif"];for(const l of n)if(o.some((e=>l.url.endsWith(e)))){const n=e.fs.statSync(e.path.resolve(a,l.url));n.size>1024*t?i.push(`Skipped ${l.url}, as its ${Math.ceil(n.size/1024)} KB.\n`):s.push(l)}else s.push(l);return{warnings:i,manifest:s}},l=(e,a)=>a.startsWith("/")?a.replace(/^\//,e.replace(/^\/?/,"/").replace(/\/?$/,"/")):a,r=(e,a)=>{a.favicon&&(a.favicon=l(e,a.favicon)),a.apple&&(a.apple.icon&&(a.apple.icon=l(e,a.apple.icon)),a.apple.maskIcon&&(a.apple.maskIcon=l(e,a.apple.maskIcon))),a.msTile&&a.msTile.image&&(a.msTile.image=l(e,a.msTile.image)),a.manifest&&(a.manifest=((e,a)=>(a.icons&&(a.icons=a.icons.map((a=>({...a,src:l(e,a.src)})))),a.shortcuts&&(a.shortcuts=a.shortcuts.map((a=>{var t;return{...a,icons:null===(t=a.icons)||void 0===t?void 0:t.map((a=>({...a,src:l(e,a.src)}))),url:l(e,a.url)}}))),a.screenshots&&(a.screenshots=a.screenshots.map((a=>({...a,src:l(e,a.src)})))),a))(e,a.manifest))},c=(l,c)=>{const{base:p}=c.options;l.appendBase&&r(p,l);const d=(async(t,n)=>{var i,s,o;const{dir:l,siteData:r}=t,{base:c}=t.options,p=l.source(".vuepress/public/manifest.webmanifest"),d=l.source(".vuepress/public/manifest.json"),h=n.manifest||{},m=JSON.parse(e.fs.existsSync(p)?await e.fs.readFile(p,"utf8"):e.fs.existsSync(d)?await e.fs.readFile(d,"utf8"):"{}");return{name:r.title||(null===(i=r.locales["/"])||void 0===i?void 0:i.title)||"Site",short_name:r.title||(null===(s=r.locales["/"])||void 0===s?void 0:s.title)||"Site",description:r.description||(null===(o=r.locales["/"])||void 0===o?void 0:o.description)||"A site built with vuepress",lang:a.getRootLang(t),start_url:c,scope:c,display:"standalone",theme_color:n.themeColor||"#46bd87",background_color:"#ffffff",orientation:"portrait-primary",prefer_related_applications:!1,...m,...h}})(c,l);return c.options.head=((e,a="/",t=[])=>{var n;const i=[],s=[];t.forEach((e=>{"meta"===e[0]?i.push(e[1].name):"link"===e[0]&&s.push(e[1].rel)}));let o="";const l=(e,a,n={})=>{s.includes(e)||t.push(["link",{rel:e,href:a,...n}])},r=(e,a,n={})=>{i.includes(e)||t.push(["meta",{name:e,content:a,...n}])};if(e.favicon&&l("icon",e.favicon),null===(n=e.manifest)||void 0===n?void 0:n.icons){const{icons:a}=e.manifest;a.length>0&&(o=a[0].src,e.manifest.icons.map((e=>{e.type?l("icon",e.src,{type:e.type,sizes:e.sizes}):l("icon",e.src,{sizes:e.sizes})})))}return l("manifest",`${a.replace(/^\/?/u,"/").replace(/\/?$/u,"/")}manifest.webmanifest`,{crossorigin:"use-credentials"}),r("theme-color",e.themeColor||"#46bd87"),"object"==typeof e.apple&&(e.apple.icon||o)?(l("apple-touch-icon",e.apple.icon||o),r("apple-mobile-web-app-capable","yes"),r("apple-mobile-web-app-status-bar-style",e.apple.statusBarColor||"black"),e.apple.maskIcon&&l("mask-icon",e.apple.maskIcon,{color:e.themeColor||"#46bd87"})):!1!==e.apple&&o&&(l("apple-touch-icon",o),r("apple-mobile-web-app-capable","yes"),r("apple-mobile-web-app-status-bar-style","black")),"object"==typeof e.msTile&&(e.msTile.image||o)?(r("msapplication-TileImage",e.msTile.image||o),r("msapplication-TileColor",e.msTile.color||e.themeColor||"#46bd87")):!1!==e.msTile&&o&&(r("msapplication-TileImage",o),r("msapplication-TileColor",e.themeColor||"#46bd87")),r("viewport","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"),t})(l,p,c.options.head),t.useSassPalettePlugin(c,{id:"hope"}),{name:"vuepress-plugin-pwa2",define:()=>({PWA_LOCALES:a.getLocales(c,i,l.locales),SW_FORCE_UPDATE:"force"===l.update,SW_PATH:l.swPath||"service-worker.js"}),onInitialized:e=>{a.addViteOptimizeDepsInclude(e,["mitt","register-service-worker"]),a.addViteSsrNoExternal(e,["@mr-hope/vuepress-shared","register-service-worker","vuepress-plugin-pwa2"]),a.addViteOptimizeDepsExclude(e,"vuepress-plugin-pwa2"),a.useCustomDevServer(e,"/manifest.webmanifest",(async()=>JSON.stringify(await d)),"Unexpected manifest generate error")},onGenerated:async a=>{await(async(a,t)=>{s.load("Generating manifest.webmanifest");const{dir:n}=a,i=n.dest("manifest.webmanifest");await e.fs.writeJSON(i,await t,{flag:"w"}),s.succeed(),s.update(`Manifest generated and saved to ${e.chalk.cyan(e.path.relative(process.cwd(),i))}!`)})(a,d),await(async(a,t)=>{var i;s.load("Generating service worker");const{dest:l}=a.dir,r=l("service-worker.js"),c=e.path.relative(process.cwd(),l()),p=["**/*.{js,css,svg}","**/*.{woff,woff2,eot,ttf,otf}"];t.cacheHTML?p.push("**/*.html"):p.push("./index.html","./404.html"),t.cachePic&&p.push("**/*.{png,jpg,jpeg,bmp,gif,webp}"),await n.generateSW({swDest:r,globDirectory:c,cacheId:a.siteData.title||(null===(i=a.siteData.locales["/"])||void 0===i?void 0:i.title)||"hope",globPatterns:p,cleanupOutdatedCaches:!0,clientsClaim:!0,maximumFileSizeToCacheInBytes:1024*(t.maxSize||2048),manifestTransforms:[o(c,t.maxPicSize)],...t.generateSWConfig||{}}).then((({count:a,size:t,warnings:n})=>{s.succeed(),s.info(`Precache ${e.chalk.cyan(`${a} files`)}, totaling ${e.chalk.cyan(`${(t/1024/1024).toFixed(2)} Mb.`)}.`),n.length&&s.warn(`${n.map((e=>`  · ${e}`)).join("\n")}`),t>104857600?s.error(`Cache Size is larger than 100MB, so that it can not be registerd on all browsers.\n${e.chalk.blue("Please consider disable `cacheHTML` and `cachePic`, or set `maxSize` and `maxPicSize` option.\n")}`):t>52428800&&s.warn(`\nCache Size is larger than 50MB, which will not be registerd on Safari.\n${e.chalk.blue("Please consider disable `cacheHTML` and `cachePic`, or set `maxSize` and `maxPicSize` option.\n")}`)}))})(a,l)},clientAppRootComponentFiles:[..."hint"===l.update?[l.hintComponent||e.path.resolve(__dirname,"../client/global-components/SWHintPopup.js")]:[],..."disable"!==l.update&&"force"!==l.update?[l.updateComponent||e.path.resolve(__dirname,"../client/global-components/SWUpdatePopup.js")]:[],...!1!==l.showInstall?[e.path.resolve(__dirname,"../client/global-components/PWAInstall.js")]:[]],clientAppSetupFiles:e.path.resolve(__dirname,"../client/appSetup.js")}};exports.default=c,exports.pwa=e=>["pwa2",e],exports.pwaPlugin=c;
//# sourceMappingURL=index.js.map
