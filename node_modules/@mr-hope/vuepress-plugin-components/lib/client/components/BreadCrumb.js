import{resolveRouteWithRedirect as e}from"@mr-hope/vuepress-shared/lib/client";import{useRouteLocale as t}from"@vuepress/client";import{defineComponent as r,ref as o,computed as a,onMounted as l,watch as n,onUnmounted as p,h as i}from"vue";import{useRouter as s,useRoute as u,RouterLink as c}from"vue-router";import{removeEndingSlash as m}from"@vuepress/shared";import"../styles/breadcrumb.scss";var f=r({name:"BreadCrumb",props:{enable:{type:Boolean,default:!0},icon:{type:Boolean,default:!0},iconPrefix:{type:String,default:""}},setup(r){const f=s(),h=u(),v=t(),b=o([]),d=a((()=>r.enable&&b.value.length>1)),y=()=>{const t=f.getRoutes(),r=((e,t)=>{const r=e.path.replace(t,"/").split("/"),o=[];let a=m(t);return r.forEach(((e,t)=>{t!==r.length-1?(a+=`${e}/`,o.push(a)):""!==e&&(a+=e,o.push(a))})),o})(h,v.value).map((r=>{const o=t.find((e=>e.path===r));if(o){const{meta:t,path:r}=e(f,o.path);if("string"==typeof t.title)return{title:t.title,icon:t.icon,path:r}}return null})).filter((e=>null!==e));r.length>1&&(b.value=r)};let g;return l((()=>{y(),g=n((()=>h.path),y)})),p((()=>{g()})),()=>i("nav",{class:["breadcrumb",{disable:!d.value}]},d.value?i("ol",{vocab:"https://schema.org/",typeof:"BreadcrumbList"},b.value.map(((e,t)=>i("li",{class:{"is-active":b.value.length-1===t},property:"itemListElement",typeof:"ListItem"},i(c,{to:e.path,property:"item",typeof:"WebPage"},(()=>[r.icon&&e.icon?i("i",{class:["icon",`${r.iconPrefix}${e.icon}`]}):null,i("span",{property:"name"},e.title||"Unknown"),i("meta",{property:"position",content:t+1})])))))):[])}});export{f as default};
//# sourceMappingURL=BreadCrumb.js.map
