import{h as e,defineComponent as s,ref as t,onMounted as i,onBeforeUnmount as a}from"vue";import{usePageFrontmatter as l}from"@vuepress/client";import{IconBase as r}from"@mr-hope/vuepress-shared/lib/client";import"../styles/slides/index.scss";import"../styles/slides/theme/fonts/league-gothic/league-gothic.css";import"../styles/slides/theme/fonts/source-sans-pro/source-sans-pro.css";const n=()=>e(r,{name:"loading"},(()=>["0s","-0.333s","-0.667s"].map((s=>e("circle",{cx:50,cy:50,r:0,fill:"none",stroke:"currentColor",strokeWidth:"2"},[e("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:s}),e("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:s})])))));var o=s({name:"PresentationViewer",props:{id:{type:String,required:!0},theme:{type:String,default:"auto"}},setup(s){const r=l(),o=t(""),u=t(!1),p=t(),d=t();let m;return i((()=>{var e;if(d.value){o.value=decodeURIComponent((null===(e=p.value)||void 0===e?void 0:e.dataset.code)||""),d.value.setAttribute("id",s.id),d.value.setAttribute("data-theme",s.theme);const t=[new Promise((e=>setTimeout(e,MARKDOWN_ENHANCE_DELAY))),import("reveal.js/dist/reveal.esm.js")];t.push(import("reveal.js/plugin/markdown/markdown.esm.js")),REVEAL_PLUGIN_HIGHLIGHT&&t.push(import("reveal.js/plugin/highlight/highlight.esm.js")),REVEAL_PLUGIN_MATH&&t.push(import("reveal.js/plugin/math/math.esm.js")),REVEAL_PLUGIN_SEARCH&&t.push(import("reveal.js/plugin/search/search.esm.js")),REVEAL_PLUGIN_NOTES&&t.push(import("reveal.js/plugin/notes/notes.esm.js")),REVEAL_PLUGIN_ZOOM&&t.push(import("reveal.js/plugin/zoom/zoom.esm.js")),Promise.all(t).then((([,e,...s])=>{m=new e.default(d.value,{plugins:s.map((e=>e.default))}),m.initialize({backgroundTransition:"slide",hash:"Slide"===r.value.layout,mouseWheel:"Slide"===r.value.layout,transition:"slide",slideNumber:!0,...REVEAL_CONFIG,...r.value.reveal||{},embedded:"Slide"!==r.value.layout}).then((()=>{u.value=!1,m.configure({backgroundTransition:"slide"})}))}))}})),a((()=>{null==m||m.destroy()})),()=>e("div",{ref:p,class:{"md-enhance-presentation":!0,loading:u.value}},[u.value?e(n):null,e("div",{ref:d,class:["reveal","reveal-viewport"]},e("div",{class:"slides",style:{display:u.value?"none":"block"},innerHTML:`<section data-markdown data-separator="^\\r?\\n---\\r?\\n$" data-separator-vertical="^\\r?\\n--\\r?\\n$"><script type="text/template">${o.value}<\/script></section>`}))])}});export{o as default};
//# sourceMappingURL=Presentation.js.map
