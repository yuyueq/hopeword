"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveSEOPlugin = void 0;
const vuepress_plugin_seo2_1 = require("vuepress-plugin-seo2");
const blog_1 = require("./blog");
const resolveSEOPlugin = (hostname, themeConfig, { blog, seo }) => {
    if (seo === false)
        return ["", false];
    // disable seo if `hostname` is not set and no options for seo plugin
    if (!Object.keys(seo || {}).length && !hostname)
        return ["", false];
    const blogOptions = (0, blog_1.getBlogOptions)(blog);
    const isArticle = ({ filePathRelative, frontmatter, pathLocale, path, }) => {
        if (!filePathRelative || frontmatter.home)
            return false;
        const localePath = path.replace(new RegExp(`^${pathLocale}`), "/");
        return Object.keys(blogOptions).every((path) => !localePath.startsWith(path));
    };
    return (0, vuepress_plugin_seo2_1.seo)({
        hostname,
        author: themeConfig.author,
        isArticle,
        ...(seo || {}),
    });
};
exports.resolveSEOPlugin = resolveSEOPlugin;
//# sourceMappingURL=seo.js.map